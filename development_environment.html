<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Development Environment - The Book</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">2.</strong> Installation</a></li><li class="chapter-item expanded "><a href="development_environment.html" class="active"><strong aria-hidden="true">3.</strong> Development Environment</a></li><li class="chapter-item expanded "><a href="Core_Concepts/core_concepts.html"><strong aria-hidden="true">4.</strong> Core Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Core_Concepts/plugin.html"><strong aria-hidden="true">4.1.</strong> Plugins</a></li><li class="chapter-item expanded "><a href="Core_Concepts/wasm.html"><strong aria-hidden="true">4.2.</strong> Webassembly</a></li><li class="chapter-item expanded "><a href="Core_Concepts/entity_component_system.html"><strong aria-hidden="true">4.3.</strong> Entity Component System</a></li><li class="chapter-item expanded "><a href="Core_Concepts/pub_sub.html"><strong aria-hidden="true">4.4.</strong> Pub/Sub channels</a></li><li class="chapter-item expanded "><a href="Core_Concepts/client_and_server.html"><strong aria-hidden="true">4.5.</strong> Client and Server</a></li><li class="chapter-item expanded "><a href="Core_Concepts/crates.html"><strong aria-hidden="true">4.6.</strong> Crates</a></li><li class="chapter-item expanded "><a href="Core_Concepts/names.html"><strong aria-hidden="true">4.7.</strong> Names</a></li><li class="chapter-item expanded "><a href="Core_Concepts/coordinate_system.html"><strong aria-hidden="true">4.8.</strong> Coordinate system</a></li><li class="chapter-item expanded "><a href="Core_Concepts/rendering.html"><strong aria-hidden="true">4.9.</strong> Rendering</a></li><li class="chapter-item expanded "><a href="Core_Concepts/api_docs.html"><strong aria-hidden="true">4.10.</strong> API documentation</a></li></ol></li><li class="chapter-item expanded "><a href="Beginner_Tutorial/beginner_plugin_development_tutorial.html"><strong aria-hidden="true">5.</strong> Beginner Plugin Development Tutorial</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Beginner_Tutorial/setting_up_plugin_development_environment.html"><strong aria-hidden="true">5.1.</strong> Setting up Plugin Development Environment</a></li><li class="chapter-item expanded "><a href="Beginner_Tutorial/understanding_the_plugin_template.html"><strong aria-hidden="true">5.2.</strong> Understanding the Plugin Template</a></li><li class="chapter-item expanded "><a href="Beginner_Tutorial/creating_objects.html"><strong aria-hidden="true">5.3.</strong> Creating Objects</a></li><li class="chapter-item expanded "><a href="Beginner_Tutorial/adding_object_behaviors.html"><strong aria-hidden="true">5.4.</strong> Adding Object Behaviors</a></li></ol></li><li class="chapter-item expanded "><a href="for_engine_developers.html"><strong aria-hidden="true">6.</strong> For Engine developers</a></li><li class="chapter-item expanded "><a href="common_fixes.html"><strong aria-hidden="true">7.</strong> Common fixes</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="development-environment-version"><a class="header" href="#development-environment-version">Development Environment Version</a></h1>
<p>If you want to develop new plugins or engine features with a version that might have some bugs, but has more features than the stable version, then you can clone our repository from <a href="https://github.com/ChatImproVR/chatimprovr"><strong>HERE</strong></a>. To use this version, there are a few additional steps that need to be completed:</p>
<h2 id="additional-software-download"><a class="header" href="#additional-software-download">Additional Software Download</a></h2>
<p>There are two additional software to download to set up the development environment.</p>
<ol>
<li><a href="https://www.rust-lang.org/tools/install">Rust</a></li>
<li><a href="https://cmake.org/download/">Cmake</a></li>
</ol>
<!-- 1. [Rust (for both Desktop and VR)](#rust)
2. [CMake (For VR only)](#cmake) -->
<!-- ### Rust
When you visit the page for Rust, it will greet you the screen as below.
![Rust Install Page](/images/rust_install_page.png)

Please follow the instructions as they stated. The page might look slighlty different based on operating system.

### CMake
When you visit the [page for Cmake](https://cmake.org/download/), it will greet you the screen as below. Please download the latest version of Cmake that has the option of Windows x64 Installer: the file extension is `.msi`.
![Cmake Install Page](/images/cmake_install_page.png)
In the image above, the version we are downloading is 3.26.4, but you can download and install a higher version if you want as well.

Once you download the installer, open the installer. The first screen should be similar as the following screen.

![Cmake Installer Part 1](/images/cmake_installer_part_1.png)

Select `Next` to continue the installation process.

The next screen will ask regarding the agreement of the program. Select agree to continue the installation process as the image below. You can save the agreement by selecting the `print` option if you want.

![Cmake Installer Part 2](/images/cmake_installer_part_2.png)

In the next screen, we are have an option to install on system path for current user, all users, or not at all. Choose either for the current user or all users to add the system PATH. The image below has selected for all users.

![Cmake Installer Part 3](/images/cmake_installer_part_3.png)

The next screen is selection the program path. The image below has selected the default path, but you can choose whatever path you want.

![Cmake Installer Part 4](/images/cmake_installer_part_4.png)

The next screen is an verifier on selecting all the correct options that you have selected. Once everything is all set, click the `install` button to proceed the installation.

![Cmake Installer Part 5](/images/cmake_installer_part_5.png)

Once the installation is complete, then you will see the following screen.

![Cmake Installer Part 6](/images/cmake_installer_part_6.png) -->
<h2 id="wasm-target"><a class="header" href="#wasm-target">WASM target</a></h2>
<p>Make sure you have the <code>wasm32-unknown-unknown</code> target installed;</p>
<pre><code class="language-sh">rustup target add wasm32-unknown-unknown
</code></pre>
<h2 id="dependencies-on-ubuntu"><a class="header" href="#dependencies-on-ubuntu">Dependencies on Ubuntu:</a></h2>
<pre><code class="language-sh">sudo apt install build-essential cmake libxcb-render0-dev libxcb-shape0-dev libxcb-xfixes0-dev libspeechd-dev libxkbcommon-dev libssl-dev
</code></pre>
<h2 id="compilation"><a class="header" href="#compilation">Compilation</a></h2>
<p>Build the client, server, and example plugins like so:</p>
<pre><code class="language-sh">pushd server
cargo build --release
popd

pushd client
cargo build --release
cargo build --release --features vr # (For VR/OpenXR support)
popd

pushd example_plugins
./compile_all.sh # (Linux)
# ./compile_all.ps1 # (Windows)
popd
</code></pre>
<p>You can compile all of the example plugins with the <code>compile_all.sh</code> script. 
If you're on windows, you can either use <code>Git Bash</code> to run the <code>.sh</code> files or open a PR; sorry about it!</p>
<p>While most crates <em>are</em> in a workspace, the client crate is unfortunately excluded due to an issue with the <code>openxr</code> crate.</p>
<h2 id="setting-up-the-helper-script"><a class="header" href="#setting-up-the-helper-script">Setting up the helper script</a></h2>
<p>The helper script is intended to make it easy to run the client, server, or both from a single command. The script requires Python 3.</p>
<h3 id="on-linuxunixmacos-bash"><a class="header" href="#on-linuxunixmacos-bash">On Linux/Unix/MacOS (Bash)</a></h3>
<p>If your MacOS system is using <code>bash</code> instead of <code>zsh</code>, then please follow this procedure. Otherwise, please follow the MacOS (Zsh) section.</p>
<p>Assuming you have a copy of <code>chatimprovr</code> somewhere (in this case, <code>$HOME/Projects/chatimprovr</code>), you can put the following in your <code>~/.bashrc</code>:</p>
<pre><code class="language-bash">function cimvr() {
    $HOME/Projects/chatimprovr/cimvr.py $@
}
</code></pre>
<p>This will allow you to access the script as <code>cimvr</code> anywhere.</p>
<blockquote>
<p><em>NOTE: If you do not have the .bashrc file, you need to create on in the $HOME directory.</em></p>
</blockquote>
<h3 id="on-macos-zsh"><a class="header" href="#on-macos-zsh">On MacOS (Zsh)</a></h3>
<p>Assuming you have a copy of <code>chatimprovr</code> somewhere (in this case,  <code>$HOME/Desktop/Rust/chatimprovr</code>), you can put the following in your <code>~/.zshrc</code>:</p>
<pre><code class="language-zsh">function cimvr() {
    $HOME/Desktop/Rust/chatimprovr/cimvr.py $@
}
</code></pre>
<p>This will allow you to access the script as <code>cimvr</code> anywhere.</p>
<blockquote>
<p><em>NOTE: If you do not have the .zshrc file, you need to create on in the $HOME directory.</em></p>
</blockquote>
<h3 id="on-windows"><a class="header" href="#on-windows">On Windows</a></h3>
<p>Assuming you have a copy of <code>chatimprovr</code> somewhere (in this case, <code>C:\Users\dunca\Documents\chatimprovr</code>), you can put the following in your <code>Microsoft.PowerShell_profile.ps1</code>.</p>
<pre><code class="language-ps1">function cimvr() {
    $cimvr_path=&quot;C:\Users\dunca\Documents\chatimprovr&quot;
    python $cimvr_path\cimvr.py $args
}
</code></pre>
<p>This will allow you to access the script as <code>cimvr</code> anywhere.</p>
<blockquote>
<p><em>NOTE: If you cannot find the <code>Microsoft.PowerShell_profile.ps1</code>, you can find the file by typing <code>$profile</code> in Windows PowerShell. There is a chance that <code>Microsoft.PowerShell_profile.ps1</code> might not exist yet. In that case, you need to create a new file and the directory to match that path. In the image below, the file should be located in <code>Documents\WindowsPowerShell</code> under the file name as <code>Microsoft.PowerShell_profile.ps1</code>. If running scripts is disabled on your machine, consult the common fixes section.</em></p>
</blockquote>
<p><img src="./images/profile_path.png" alt="$profile path" /></p>
<h3 id="using-the-script-to-launch-the-engine"><a class="header" href="#using-the-script-to-launch-the-engine">Using the script to launch the engine</a></h3>
<p>After building both <code>chatimprovr</code>'s client and server as well as the example plugins, we could launch the cube example included with ChatImproVR using:</p>
<pre><code class="language-bash">cimvr camera cube
</code></pre>
<p>in the terminal where you installed the helper script.</p>
<h2 id="additional-tips-and-tricks"><a class="header" href="#additional-tips-and-tricks">Additional Tips and Tricks</a></h2>
<h3 id="sparse-registries"><a class="header" href="#sparse-registries">Sparse registries</a></h3>
<p>Recently, the sparse protocol for cargo registries was stablized. This can help improve initial compile times. See <a href="https://blog.rust-lang.org/2023/03/09/Rust-1.68.0.html#cargos-sparse-protocol">the rust blog</a>.</p>
<h3 id="logging"><a class="header" href="#logging">Logging</a></h3>
<p>Wasmtime/Cranelift puts a bunch of junk in the log by default. To disable this, put the following in your RC file:</p>
<pre><code class="language-sh">export RUST_LOG=&quot;debug,cranelift=OFF,wasmtime=OFF&quot;
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="installation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="Core_Concepts/core_concepts.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="installation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="Core_Concepts/core_concepts.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
